# [0054. èºæ—‹çŸ©é˜µ](https://leetcode.cn/problems/spiral-matrix/)

- æ ‡ç­¾ï¼šæ•°ç»„ã€çŸ©é˜µã€æ¨¡æ‹Ÿ
- éš¾åº¦ï¼šä¸­ç­‰

## é¢˜ç›®å¤§æ„

**æè¿°**ï¼šç»™å®šä¸€ä¸ª $m \times n$ å¤§å°çš„äºŒç»´çŸ©é˜µ $matrix$ã€‚

**è¦æ±‚**ï¼šæŒ‰ç…§é¡ºæ—¶é’ˆæ—‹è½¬çš„é¡ºåºï¼Œè¿”å›çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚

**è¯´æ˜**ï¼š

- $m == matrix.length$ã€‚
- $n == matrix[i].length$ã€‚
- $1 \le m, n \le 10$ã€‚
- $-100 \le matrix[i][j] \le 100$ã€‚

**ç¤ºä¾‹**ï¼š

- ç¤ºä¾‹ 1ï¼š

![](https://assets.leetcode.com/uploads/2020/11/13/spiral1.jpg)

```python
è¾“å…¥ï¼šmatrix = [[1,2,3],[4,5,6],[7,8,9]]
è¾“å‡ºï¼š[1,2,3,6,9,8,7,4,5]
```

- ç¤ºä¾‹ 2ï¼š

![](https://assets.leetcode.com/uploads/2020/11/13/spiral.jpg)

```python
è¾“å…¥ï¼šmatrix = [[1,2,3,4],[5,6,7,8],[9,10,11,12]]
è¾“å‡ºï¼š[1,2,3,4,8,12,11,10,9,5,6,7]
```

## è§£é¢˜æ€è·¯

### æ€è·¯ 1ï¼šæ¨¡æ‹Ÿ

1. ä½¿ç”¨æ•°ç»„ $ans$ å­˜å‚¨ç­”æ¡ˆã€‚ç„¶åå®šä¹‰ä¸€ä¸‹ä¸Šã€ä¸‹ã€å·¦ã€å³çš„è¾¹ç•Œã€‚
2. ç„¶åæŒ‰ç…§é€†æ—¶é’ˆçš„é¡ºåºä»è¾¹ç•Œä¸Šä¾æ¬¡è®¿é—®å…ƒç´ ã€‚
3. å½“è®¿é—®å®Œå½“å‰è¾¹ç•Œä¹‹åï¼Œè¦æ›´æ–°ä¸€ä¸‹è¾¹ç•Œä½ç½®ï¼Œç¼©å°èŒƒå›´ï¼Œæ–¹ä¾¿ä¸‹ä¸€è½®è¿›è¡Œè®¿é—®ã€‚
4. æœ€åè¿”å›ç­”æ¡ˆæ•°ç»„ $ans$ã€‚

### æ€è·¯ 1ï¼šä»£ç 

```python
class Solution:
    def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        up, down, left, right = 0, len(matrix)-1, 0, len(matrix[0])-1
        ans = []
        while True:
            for i in range(left, right + 1):
                ans.append(matrix[up][i])
            up += 1
            if up > down:
                break
            for i in range(up, down + 1):
                ans.append(matrix[i][right])
            right -= 1
            if right < left:
                break
            for i in range(right, left - 1, -1):
                ans.append(matrix[down][i])
            down -= 1
            if down < up:
                break
            for i in range(down, up - 1, -1):
                ans.append(matrix[i][left])
            left += 1
            if left > right:
                break
        return ans
```
```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
# æœ¬ä»£ç ä¸ä¿è¯æ­£ç¡®æ€§ï¼Œä»…ä¾›å‚è€ƒã€‚å¦‚æœ‰ç–‘æƒ‘ï¼Œå¯ä»¥å‚ç…§æˆ‘å†™çš„ java ä»£ç å¯¹æ¯”æŸ¥çœ‹ã€‚

from typing import List

def spiralOrder(matrix: List[List[int]]) -> List[int]:
    m = len(matrix)
    n = len(matrix[0])
    upper_bound = 0
    lower_bound = m - 1
    left_bound = 0
    right_bound = n - 1
    res = []
    # res.length == m * n åˆ™éå†å®Œæ•´ä¸ªæ•°ç»„
    while len(res) < m * n:
        if upper_bound <= lower_bound:
            # åœ¨é¡¶éƒ¨ä»å·¦å‘å³éå†
            for j in range(left_bound, right_bound + 1):
                res.append(matrix[upper_bound][j])
            # ä¸Šè¾¹ç•Œä¸‹ç§»
            upper_bound += 1
        
        if left_bound <= right_bound:
            # åœ¨å³ä¾§ä»ä¸Šå‘ä¸‹éå†
            for i in range(upper_bound, lower_bound + 1):
                res.append(matrix[i][right_bound])
            # å³è¾¹ç•Œå·¦ç§»
            right_bound -= 1
        
        if upper_bound <= lower_bound:
            # åœ¨åº•éƒ¨ä»å³å‘å·¦éå†
            for j in range(right_bound, left_bound - 1, -1):
                res.append(matrix[lower_bound][j])
            # ä¸‹è¾¹ç•Œä¸Šç§»
            lower_bound -= 1
        
        if left_bound <= right_bound:
            # åœ¨å·¦ä¾§ä»ä¸‹å‘ä¸Šéå†
            for i in range(lower_bound, upper_bound - 1, -1):
                res.append(matrix[i][left_bound])
            # å·¦è¾¹ç•Œå³ç§»
            left_bound += 1
    
    return res
```
### æ€è·¯ 1ï¼šå¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š$O(m \times n)$ã€‚å…¶ä¸­ $m$ã€$n$ åˆ†åˆ«ä¸ºäºŒç»´çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š$O(m \times n)$ã€‚å¦‚æœç®—ä¸Šç­”æ¡ˆæ•°ç»„çš„ç©ºé—´å ç”¨ï¼Œåˆ™ç©ºé—´å¤æ‚åº¦ä¸º $O(m \times n)$ã€‚ä¸ç®—ä¸Šåˆ™ç©ºé—´å¤æ‚åº¦ä¸º $O(1)$ã€‚

### æ€è·¯ 2ï¼šæ¨¡æ‹Ÿ

1. å½“matrixä¸ä¸ºç©ºæ—¶ï¼Œ popæ‰the first rowï¼Œ ç›´æ¥å°†tuple + åˆ°result listä¸Šï¼Œpython3 ä¼šè‡ªåŠ¨è½¬æ¢tupleä¸ºlistçš„elementã€‚
2. ç„¶åæŒ‰ç…§é€†æ—¶é’ˆæ—‹è½¬matrixï¼Œ list(zip(*matrix))ä½œç”¨ï¼štranspose è¡Œåˆ—äº’æ¢ã€‚

### æ€è·¯ 2ï¼šä»£ç 

```python
class Solution:
    def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        result = []
        while matrix:
            result += matrix.pop(0)  # å–çŸ©é˜µç¬¬ä¸€è¡Œå¹¶åˆ é™¤
            matrix = list(zip(*matrix))[::-1]  # æ—‹è½¬çŸ©é˜µ
        return result
```
#### æ‹“å±•ï¼š é¡ºæ—¶é’ˆæ—‹è½¬çŸ©é˜µï¼š
```python
def rotate_matrix_clockwise(matrix):
    # Transpose the matrix (swap rows and columns)
    transposed = [list(row) for row in zip(*matrix)]
    
    # Reverse the columns
    rotated = [list(reversed(row)) for row in transposed]
    
    return rotated
```



